# üßº –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –æ—á–∏—Å—Ç–∫–µ Docker

## 1Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —á–∏—Å—Ç–∫–∞ (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

> –£–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –º—É—Å–æ—Ä: –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –≤–∏—Å—è—á–∏–µ –æ–±—Ä–∞–∑—ã, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volume –∏ –∫—ç—à.

```bash
# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã (dangling)
docker image prune

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volume
docker volume prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ç–∏
docker network prune

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Å—Ä–∞–∑—É (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã, volume, —Å–µ—Ç–∏)
docker system prune

# –¢–æ –∂–µ, –Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –≤–∫–ª—é—á–∞—è volume –∏ dangling-–æ–±—Ä–∞–∑—ã
docker system prune -a --volumes
```

---

## 2Ô∏è‚É£ –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∏—Å–∫–∞ (–µ—Å–ª–∏ `/dev/vda2` –∑–∞–±–∏—Ç –ø–æ–¥ –∑–∞–≤—è–∑–∫—É)

> –£–¥–∞–ª—è–µ—Ç—Å—è –≤—Å—ë ‚Äî **–≤—Å–µ –æ–±—Ä–∞–∑—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, volume, –∫—ç—à**. –ü—Ä–æ–µ–∫—Ç –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å.

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker stop $(docker ps -aq)

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker rm $(docker ps -aq)

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞–∑—ã
docker rmi $(docker images -q)

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ volume
docker volume rm $(docker volume ls -q)

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–µ—Ç–∏ (–Ω–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)
docker network rm $(docker network ls -q)

# –ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
docker system prune -a --volumes
```

> üí° –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∑–∞–Ω–æ–≤–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:
```bash
docker-compose build --no-cache
docker-compose up -d
```

---

## üì¶ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∫–∞–∫ —É–∑–Ω–∞—Ç—å, —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ

```bash
# –†–∞–∑–º–µ—Ä –≤—Å–µ—Ö docker-–æ–±—ä–µ–∫—Ç–æ–≤
docker system df

# –û–±—ä—ë–º –ø–∞–ø–æ–∫ –≤ docker
du -sh /var/lib/docker/*

# –£—Å—Ç–∞–Ω–æ–≤–∏ ncdu –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä—É—á–Ω—É—é
apt install ncdu
ncdu /
```